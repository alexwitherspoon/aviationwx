# Local Development Override Template
# 
# Copy this file to docker-compose.override.yml and customize for your setup.
# The override file is gitignored and will not be committed.
#
# cp docker/docker-compose.override.yml.example docker/docker-compose.override.yml
#
# Then edit docker-compose.override.yml to set your secrets path.

name: aviationwx-local

services:
  web:
    volumes:
      # Mount source code for live reloading (no rebuild needed)
      - ../lib:/var/www/html/lib:ro
      - ../pages:/var/www/html/pages:ro
      - ../api:/var/www/html/api:ro
      - ../admin:/var/www/html/admin:ro
      - ../scripts:/var/www/html/scripts:ro
      - ../public:/var/www/html/public:ro
      - ../config:/var/www/html/config:ro
      - ../tests:/var/www/html/tests:ro
      - ../dev:/var/www/html/dev:ro
      - ../guides:/var/www/html/guides:ro
      - ../health:/var/www/html/health:ro
      # Cache directory
      - /tmp/aviationwx-cache:/var/www/html/cache
      # =================================================================
      # SECRETS CONFIGURATION - Update paths below for your setup
      # =================================================================
      # Option 1: Use the secrets repository (recommended)
      # - /path/to/aviationwx.org-secrets/airports.json:/var/www/html/secrets/airports.json:ro
      # - /path/to/aviationwx.org-secrets/partner-logos:/var/www/html/partner-logos:ro
      #
      # Option 2: Copy airports.json.example to a local file and customize
      # - /path/to/my-airports.json:/var/www/html/secrets/airports.json:ro
      # (partner logos will show as placeholders without secrets repo)
    environment:
      # Point CONFIG_PATH to secrets location (must match volume mount above)
      - CONFIG_PATH=/var/www/html/secrets/airports.json
